{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/pressplay/Documents/Work/laundry-management-system/context/navigation-context.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useState, useMemo, ReactNode, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\n\ninterface NavigationContextType {\n  isAuthenticated: boolean\n  setIsAuthenticated: (authenticated: boolean) => void\n}\n\nconst NavigationContext = createContext<NavigationContextType | undefined>(undefined)\n\nexport function NavigationProvider({ children }: { children: ReactNode }) {\n  // initialize from localStorage so provider has a proper value on first render\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(() => {\n    try {\n      return !!localStorage.getItem('admin_session')\n    } catch {\n      return false\n    }\n  })\n\n  const router = useRouter()\n\n  // keep this effect if you want provider-level redirect as well\n  useEffect(() => {\n    if (isAuthenticated) {\n      try {\n        router.replace('/dashboard')\n      } catch {}\n    }\n  }, [isAuthenticated, router])\n\n  const handleSetIsAuthenticated = (authenticated: boolean) => {\n    setIsAuthenticated(authenticated)\n    try {\n      if (authenticated) {\n        localStorage.setItem('admin_session', '1')\n      } else {\n        localStorage.removeItem('admin_session')\n      }\n    } catch {}\n  }\n\n  const value = useMemo(\n    () => ({ isAuthenticated, setIsAuthenticated: handleSetIsAuthenticated }),\n    [isAuthenticated]\n  )\n\n  return (\n    <NavigationContext.Provider value={value}>\n      {children}\n    </NavigationContext.Provider>\n  )\n}\n\nexport function useNavigation() {\n  const context = useContext(NavigationContext)\n  if (!context) throw new Error('useNavigation must be used within NavigationProvider')\n  return context\n}\n\n// Add a small client component that can be rendered inside the provider\nexport function AuthRedirect() {\n  const { isAuthenticated } = useNavigation()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.replace('/dashboard')\n    }\n  }, [isAuthenticated, router])\n\n  return null\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAHA;;;;AAUA,MAAM,kCAAoB,IAAA,sNAAa,EAAoC;AAEpE,SAAS,mBAAmB,EAAE,QAAQ,EAA2B;IACtE,8EAA8E;IAC9E,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAU;QAC9D,IAAI;YACF,OAAO,CAAC,CAAC,aAAa,OAAO,CAAC;QAChC,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,SAAS,IAAA,+IAAS;IAExB,+DAA+D;IAC/D,IAAA,kNAAS,EAAC;QACR,IAAI,iBAAiB;YACnB,IAAI;gBACF,OAAO,OAAO,CAAC;YACjB,EAAE,OAAM,CAAC;QACX;IACF,GAAG;QAAC;QAAiB;KAAO;IAE5B,MAAM,2BAA2B,CAAC;QAChC,mBAAmB;QACnB,IAAI;YACF,IAAI,eAAe;gBACjB,aAAa,OAAO,CAAC,iBAAiB;YACxC,OAAO;gBACL,aAAa,UAAU,CAAC;YAC1B;QACF,EAAE,OAAM,CAAC;IACX;IAEA,MAAM,QAAQ,IAAA,gNAAO,EACnB,IAAM,CAAC;YAAE;YAAiB,oBAAoB;QAAyB,CAAC,GACxE;QAAC;KAAgB;IAGnB,qBACE,8OAAC,kBAAkB,QAAQ;QAAC,OAAO;kBAChC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;AAGO,SAAS;IACd,MAAM,EAAE,eAAe,EAAE,GAAG;IAC5B,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,iBAAiB;YACnB,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAiB;KAAO;IAE5B,OAAO;AACT"}}]
}