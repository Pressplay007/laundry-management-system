{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pressplay/Documents/Work/laundry-management-system/context/navigation-context.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useState, useMemo, ReactNode, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\n\ninterface NavigationContextType {\n  isAuthenticated: boolean\n  setIsAuthenticated: (authenticated: boolean) => void\n}\n\nconst NavigationContext = createContext<NavigationContextType | undefined>(undefined)\n\nexport function NavigationProvider({ children }: { children: ReactNode }) {\n  // initialize from localStorage so provider has a proper value on first render\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(() => {\n    try {\n      return !!localStorage.getItem('admin_session')\n    } catch {\n      return false\n    }\n  })\n\n  const router = useRouter()\n\n  // keep this effect if you want provider-level redirect as well\n  useEffect(() => {\n    if (isAuthenticated) {\n      try {\n        router.replace('/dashboard')\n      } catch {}\n    }\n  }, [isAuthenticated, router])\n\n  const handleSetIsAuthenticated = (authenticated: boolean) => {\n    setIsAuthenticated(authenticated)\n    try {\n      if (authenticated) {\n        localStorage.setItem('admin_session', '1')\n      } else {\n        localStorage.removeItem('admin_session')\n      }\n    } catch {}\n  }\n\n  const value = useMemo(\n    () => ({ isAuthenticated, setIsAuthenticated: handleSetIsAuthenticated }),\n    [isAuthenticated]\n  )\n\n  return (\n    <NavigationContext.Provider value={value}>\n      {children}\n    </NavigationContext.Provider>\n  )\n}\n\nexport function useNavigation() {\n  const context = useContext(NavigationContext)\n  if (!context) throw new Error('useNavigation must be used within NavigationProvider')\n  return context\n}\n\n// Add a small client component that can be rendered inside the provider\nexport function AuthRedirect() {\n  const { isAuthenticated } = useNavigation()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      router.replace('/dashboard')\n    }\n  }, [isAuthenticated, router])\n\n  return null\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;;;AAHA;;;AAUA,MAAM,kCAAoB,IAAA,8KAAa,EAAoC;AAEpE,SAAS,mBAAmB,EAAE,QAAQ,EAA2B;;IACtE,8EAA8E;IAC9E,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ;uCAAU;YAC9D,IAAI;gBACF,OAAO,CAAC,CAAC,aAAa,OAAO,CAAC;YAChC,EAAE,OAAM;gBACN,OAAO;YACT;QACF;;IAEA,MAAM,SAAS,IAAA,kJAAS;IAExB,+DAA+D;IAC/D,IAAA,0KAAS;wCAAC;YACR,IAAI,iBAAiB;gBACnB,IAAI;oBACF,OAAO,OAAO,CAAC;gBACjB,EAAE,OAAM,CAAC;YACX;QACF;uCAAG;QAAC;QAAiB;KAAO;IAE5B,MAAM,2BAA2B,CAAC;QAChC,mBAAmB;QACnB,IAAI;YACF,IAAI,eAAe;gBACjB,aAAa,OAAO,CAAC,iBAAiB;YACxC,OAAO;gBACL,aAAa,UAAU,CAAC;YAC1B;QACF,EAAE,OAAM,CAAC;IACX;IAEA,MAAM,QAAQ,IAAA,wKAAO;6CACnB,IAAM,CAAC;gBAAE;gBAAiB,oBAAoB;YAAyB,CAAC;4CACxE;QAAC;KAAgB;IAGnB,qBACE,6LAAC,kBAAkB,QAAQ;QAAC,OAAO;kBAChC;;;;;;AAGP;GA1CgB;;QAUC,kJAAS;;;KAVV;AA4CT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;IAJgB;AAOT,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,GAAG;IAC5B,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;kCAAC;YACR,IAAI,iBAAiB;gBACnB,OAAO,OAAO,CAAC;YACjB;QACF;iCAAG;QAAC;QAAiB;KAAO;IAE5B,OAAO;AACT;IAXgB;;QACc;QACb,kJAAS;;;MAFV"}}]
}